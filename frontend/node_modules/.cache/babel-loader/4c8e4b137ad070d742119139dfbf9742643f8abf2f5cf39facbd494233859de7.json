{"ast":null,"code":"import React,{useContext,useState,useEffect}from\"react\";import UserProvider,{UserContext}from\"./UserContext\";import{setAuthToken}from\"./api\";// ✅ Import this\nimport Login from\"./components/Auth/Login\";import Signup from\"./components/Auth/Signup\";import IPOSelector from\"./components/IPOSelector\";import IPOInfo from\"./components/IPOInfo\";import ProfitLossCalc from\"./components/ProfitLossCalc\";import Prediction from\"./components/Prediction\";import Sentiment from\"./components/Sentiment\";import Graphs from\"./components/Graphs\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MainApp(){const[selectedIPO,setSelectedIPO]=useState(null);const{user,logout}=useContext(UserContext);return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:1200,margin:\"0 auto\",padding:\"20px\",backgroundColor:\"#f8f9fa\",minHeight:\"100vh\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"white\",padding:\"20px\",borderRadius:\"10px\",boxShadow:\"0 2px 4px rgba(0,0,0,0.1)\",marginBottom:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:\"20px\"},children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:0,color:\"#2c3e50\",fontSize:\"2.5rem\",fontWeight:\"600\"},children:\"IPO Listing Analysis\"}),user&&/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\"10px\"},children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:\"#666\",fontSize:\"1.1rem\"},children:[\"Welcome, \",/*#__PURE__*/_jsx(\"b\",{style:{color:\"#2c3e50\"},children:user.username})]}),/*#__PURE__*/_jsx(\"button\",{onClick:logout,style:{padding:\"8px 16px\",backgroundColor:\"#e74c3c\",color:\"white\",border:\"none\",borderRadius:\"5px\",cursor:\"pointer\",transition:\"background-color 0.2s\",fontSize:\"0.9rem\"},onMouseOver:e=>e.target.style.backgroundColor=\"#c0392b\",onMouseOut:e=>e.target.style.backgroundColor=\"#e74c3c\",children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(auto-fit, minmax(300px, 1fr))\",gap:\"20px\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"white\",padding:\"20px\",borderRadius:\"10px\",boxShadow:\"0 2px 4px rgba(0,0,0,0.1)\"},children:/*#__PURE__*/_jsx(IPOSelector,{onSelectIPO:setSelectedIPO})}),selectedIPO&&/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"white\",padding:\"20px\",borderRadius:\"10px\",boxShadow:\"0 2px 4px rgba(0,0,0,0.1)\"},children:/*#__PURE__*/_jsx(IPOInfo,{ipo:selectedIPO})})]}),selectedIPO&&/*#__PURE__*/_jsxs(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(auto-fit, minmax(300px, 1fr))\",gap:\"20px\",marginTop:\"20px\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"white\",padding:\"20px\",borderRadius:\"10px\",boxShadow:\"0 2px 4px rgba(0,0,0,0.1)\"},children:/*#__PURE__*/_jsx(ProfitLossCalc,{selectedIPO:selectedIPO})}),/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"white\",padding:\"20px\",borderRadius:\"10px\",boxShadow:\"0 2px 4px rgba(0,0,0,0.1)\"},children:/*#__PURE__*/_jsx(Prediction,{selectedIPO:selectedIPO})}),/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"white\",padding:\"20px\",borderRadius:\"10px\",boxShadow:\"0 2px 4px rgba(0,0,0,0.1)\"},children:/*#__PURE__*/_jsx(Sentiment,{selectedIPO:selectedIPO})})]}),/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"white\",padding:\"20px\",borderRadius:\"10px\",boxShadow:\"0 2px 4px rgba(0,0,0,0.1)\",marginTop:\"20px\"},children:/*#__PURE__*/_jsx(Graphs,{})})]}),/*#__PURE__*/_jsx(\"footer\",{style:{textAlign:\"center\",marginTop:\"30px\",color:\"#666\",padding:\"20px\",borderTop:\"1px solid #eee\"},children:\"\\xA9 2025 IPO Dashboard | All rights reserved\"})]});}export default function App(){const[showLogin,setShowLogin]=useState(true);// ✅ Restore token from localStorage on first load\nuseEffect(()=>{const token=localStorage.getItem(\"token\");if(token){setAuthToken(token);}},[]);return/*#__PURE__*/_jsx(UserProvider,{children:/*#__PURE__*/_jsx(UserContext.Consumer,{children:_ref=>{let{user}=_ref;return user?/*#__PURE__*/_jsx(MainApp,{}):showLogin?/*#__PURE__*/_jsx(Login,{onSwitch:()=>setShowLogin(false)}):/*#__PURE__*/_jsx(Signup,{onSwitch:()=>setShowLogin(true)});}})});}","map":{"version":3,"names":["React","useContext","useState","useEffect","UserProvider","UserContext","setAuthToken","Login","Signup","IPOSelector","IPOInfo","ProfitLossCalc","Prediction","Sentiment","Graphs","jsx","_jsx","jsxs","_jsxs","MainApp","selectedIPO","setSelectedIPO","user","logout","style","maxWidth","margin","padding","backgroundColor","minHeight","children","borderRadius","boxShadow","marginBottom","display","justifyContent","alignItems","color","fontSize","fontWeight","gap","username","onClick","border","cursor","transition","onMouseOver","e","target","onMouseOut","gridTemplateColumns","onSelectIPO","ipo","marginTop","textAlign","borderTop","App","showLogin","setShowLogin","token","localStorage","getItem","Consumer","_ref","onSwitch"],"sources":["C:/Users/Mahek/Desktop/ipo-listing-project/frontend/src/App.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport UserProvider, { UserContext } from \"./UserContext\";\r\nimport { setAuthToken } from \"./api\";  // ✅ Import this\r\nimport Login from \"./components/Auth/Login\";\r\nimport Signup from \"./components/Auth/Signup\";\r\nimport IPOSelector from \"./components/IPOSelector\";\r\nimport IPOInfo from \"./components/IPOInfo\";\r\nimport ProfitLossCalc from \"./components/ProfitLossCalc\";\r\nimport Prediction from \"./components/Prediction\";\r\nimport Sentiment from \"./components/Sentiment\";\r\nimport Graphs from \"./components/Graphs\";\r\n\r\nfunction MainApp() {\r\n  const [selectedIPO, setSelectedIPO] = useState(null);\r\n  const { user, logout } = useContext(UserContext);\r\n\r\n  return (\r\n    <div style={{ \r\n      maxWidth: 1200, \r\n      margin: \"0 auto\", \r\n      padding: \"20px\",\r\n      backgroundColor: \"#f8f9fa\",\r\n      minHeight: \"100vh\"\r\n    }}>\r\n      <div style={{\r\n        backgroundColor: \"white\",\r\n        padding: \"20px\",\r\n        borderRadius: \"10px\",\r\n        boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\",\r\n        marginBottom: \"20px\"\r\n      }}>\r\n        <div style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\",\r\n          marginBottom: \"20px\"\r\n        }}>\r\n          <h1 style={{\r\n            margin: 0,\r\n            color: \"#2c3e50\",\r\n            fontSize: \"2.5rem\",\r\n            fontWeight: \"600\"\r\n          }}>IPO Listing Analysis</h1>\r\n          {user && (\r\n            <div style={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              gap: \"10px\"\r\n            }}>\r\n              <span style={{\r\n                color: \"#666\",\r\n                fontSize: \"1.1rem\"\r\n              }}>\r\n                Welcome, <b style={{ color: \"#2c3e50\" }}>{user.username}</b>\r\n              </span>\r\n              <button \r\n                onClick={logout}\r\n                style={{\r\n                  padding: \"8px 16px\",\r\n                  backgroundColor: \"#e74c3c\",\r\n                  color: \"white\",\r\n                  border: \"none\",\r\n                  borderRadius: \"5px\",\r\n                  cursor: \"pointer\",\r\n                  transition: \"background-color 0.2s\",\r\n                  fontSize: \"0.9rem\"\r\n                }}\r\n                onMouseOver={(e) => e.target.style.backgroundColor = \"#c0392b\"}\r\n                onMouseOut={(e) => e.target.style.backgroundColor = \"#e74c3c\"}\r\n              >\r\n                Logout\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div style={{\r\n          display: \"grid\",\r\n          gridTemplateColumns: \"repeat(auto-fit, minmax(300px, 1fr))\",\r\n          gap: \"20px\"\r\n        }}>\r\n          <div style={{\r\n            backgroundColor: \"white\",\r\n            padding: \"20px\",\r\n            borderRadius: \"10px\",\r\n            boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\"\r\n          }}>\r\n            <IPOSelector onSelectIPO={setSelectedIPO} />\r\n          </div>\r\n          \r\n          {selectedIPO && (\r\n            <div style={{\r\n              backgroundColor: \"white\",\r\n              padding: \"20px\",\r\n              borderRadius: \"10px\",\r\n              boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\"\r\n            }}>\r\n              <IPOInfo ipo={selectedIPO} />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {selectedIPO && (\r\n          <div style={{\r\n            display: \"grid\",\r\n            gridTemplateColumns: \"repeat(auto-fit, minmax(300px, 1fr))\",\r\n            gap: \"20px\",\r\n            marginTop: \"20px\"\r\n          }}>\r\n            <div style={{\r\n              backgroundColor: \"white\",\r\n              padding: \"20px\",\r\n              borderRadius: \"10px\",\r\n              boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\"\r\n            }}>\r\n              <ProfitLossCalc selectedIPO={selectedIPO} />\r\n            </div>\r\n            <div style={{\r\n              backgroundColor: \"white\",\r\n              padding: \"20px\",\r\n              borderRadius: \"10px\",\r\n              boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\"\r\n            }}>\r\n              <Prediction selectedIPO={selectedIPO} />\r\n            </div>\r\n            <div style={{\r\n              backgroundColor: \"white\",\r\n              padding: \"20px\",\r\n              borderRadius: \"10px\",\r\n              boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\"\r\n            }}>\r\n              <Sentiment selectedIPO={selectedIPO} />\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div style={{\r\n          backgroundColor: \"white\",\r\n          padding: \"20px\",\r\n          borderRadius: \"10px\",\r\n          boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\",\r\n          marginTop: \"20px\"\r\n        }}>\r\n          <Graphs />\r\n        </div>\r\n      </div>\r\n\r\n      <footer style={{\r\n        textAlign: \"center\",\r\n        marginTop: \"30px\",\r\n        color: \"#666\",\r\n        padding: \"20px\",\r\n        borderTop: \"1px solid #eee\"\r\n      }}>\r\n        © 2025 IPO Dashboard | All rights reserved\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function App() {\r\n  const [showLogin, setShowLogin] = useState(true);\r\n\r\n  // ✅ Restore token from localStorage on first load\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      setAuthToken(token);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <UserProvider>\r\n      <UserContext.Consumer>\r\n        {({ user }) =>\r\n          user ? (\r\n            <MainApp />\r\n          ) : showLogin ? (\r\n            <Login onSwitch={() => setShowLogin(false)} />\r\n          ) : (\r\n            <Signup onSwitch={() => setShowLogin(true)} />\r\n          )\r\n        }\r\n      </UserContext.Consumer>\r\n    </UserProvider>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}