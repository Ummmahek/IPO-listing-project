{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{fetchMLPrediction}from\"../api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Prediction(_ref){let{selectedIPO}=_ref;const[prediction,setPrediction]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);useEffect(()=>{const getPrediction=async()=>{if(!selectedIPO)return;setLoading(true);setError(null);try{const data=await fetchMLPrediction({'Issue_Size(crores)':selectedIPO['Issue_Size(crores)']||0,'QIB':selectedIPO.QIB||0,'HNI':selectedIPO.HNI||0,'RII':selectedIPO.RII||0,'Issue_price':selectedIPO.Issue_Price||0});setPrediction(data);}catch(err){console.error(\"Error fetching prediction:\",err);setError(\"Failed to get prediction. Please try again.\");}finally{setLoading(false);}};getPrediction();},[selectedIPO]);if(!selectedIPO)return null;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:\"#2c3e50\",marginBottom:\"20px\",fontSize:\"1.5rem\",fontFamily:\"'Poppins', sans-serif\"},children:\"ML Prediction\"}),loading&&/*#__PURE__*/_jsx(\"div\",{style:{padding:\"20px\",textAlign:\"center\",color:\"#666\",backgroundColor:\"#f8f9fa\",borderRadius:\"8px\"},children:\"Calculating prediction...\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{padding:\"15px\",backgroundColor:\"#fde8e8\",color:\"#e74c3c\",borderRadius:\"5px\",marginBottom:\"15px\"},children:error}),!loading&&!error&&prediction&&/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"#f8f9fa\",padding:\"20px\",borderRadius:\"8px\"},children:/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(auto-fit, minmax(200px, 1fr))\",gap:\"15px\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"white\",padding:\"15px\",borderRadius:\"8px\",boxShadow:\"0 2px 4px rgba(0,0,0,0.05)\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:\"#666\",fontSize:\"0.9rem\",marginBottom:\"5px\"},children:\"Predicted Listing Gain\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:prediction.predicted_listing_gain_percent>=0?\"#27ae60\":\"#e74c3c\",fontWeight:\"500\",fontSize:\"1.1rem\"},children:[prediction.predicted_listing_gain_percent,\"%\"]})]})})})]});}","map":{"version":3,"names":["React","useState","useEffect","fetchMLPrediction","jsx","_jsx","jsxs","_jsxs","Prediction","_ref","selectedIPO","prediction","setPrediction","loading","setLoading","error","setError","getPrediction","data","QIB","HNI","RII","Issue_Price","err","console","children","style","color","marginBottom","fontSize","fontFamily","padding","textAlign","backgroundColor","borderRadius","display","gridTemplateColumns","gap","boxShadow","predicted_listing_gain_percent","fontWeight"],"sources":["C:/Users/Mahek/Desktop/ipo-listing-project/frontend/src/components/Prediction.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { fetchMLPrediction } from \"../api\";\r\n\r\nexport default function Prediction({ selectedIPO }) {\r\n    const [prediction, setPrediction] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const getPrediction = async () => {\r\n            if (!selectedIPO) return;\r\n            \r\n            setLoading(true);\r\n            setError(null);\r\n            try {\r\n                const data = await fetchMLPrediction({\r\n                    'Issue_Size(crores)': selectedIPO['Issue_Size(crores)'] || 0,\r\n                    'QIB': selectedIPO.QIB || 0,\r\n                    'HNI': selectedIPO.HNI || 0,\r\n                    'RII': selectedIPO.RII || 0,\r\n                    'Issue_price': selectedIPO.Issue_Price || 0\r\n                });\r\n                setPrediction(data);\r\n            } catch (err) {\r\n                console.error(\"Error fetching prediction:\", err);\r\n                setError(\"Failed to get prediction. Please try again.\");\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        getPrediction();\r\n    }, [selectedIPO]);\r\n\r\n    if (!selectedIPO) return null;\r\n\r\n    return (\r\n        <div>\r\n            <h3 style={{\r\n                color: \"#2c3e50\",\r\n                marginBottom: \"20px\",\r\n                fontSize: \"1.5rem\",\r\n                fontFamily: \"'Poppins', sans-serif\"\r\n            }}>\r\n                ML Prediction\r\n            </h3>\r\n\r\n            {loading && (\r\n                <div style={{\r\n                    padding: \"20px\",\r\n                    textAlign: \"center\",\r\n                    color: \"#666\",\r\n                    backgroundColor: \"#f8f9fa\",\r\n                    borderRadius: \"8px\"\r\n                }}>\r\n                    Calculating prediction...\r\n                </div>\r\n            )}\r\n\r\n            {error && (\r\n                <div style={{\r\n                    padding: \"15px\",\r\n                    backgroundColor: \"#fde8e8\",\r\n                    color: \"#e74c3c\",\r\n                    borderRadius: \"5px\",\r\n                    marginBottom: \"15px\"\r\n                }}>\r\n                    {error}\r\n                </div>\r\n            )}\r\n\r\n            {!loading && !error && prediction && (\r\n                <div style={{\r\n                    backgroundColor: \"#f8f9fa\",\r\n                    padding: \"20px\",\r\n                    borderRadius: \"8px\"\r\n                }}>\r\n                    <div style={{\r\n                        display: \"grid\",\r\n                        gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\",\r\n                        gap: \"15px\"\r\n                    }}>\r\n                        <div style={{\r\n                            backgroundColor: \"white\",\r\n                            padding: \"15px\",\r\n                            borderRadius: \"8px\",\r\n                            boxShadow: \"0 2px 4px rgba(0,0,0,0.05)\"\r\n                        }}>\r\n                            <div style={{ color: \"#666\", fontSize: \"0.9rem\", marginBottom: \"5px\" }}>\r\n                                Predicted Listing Gain\r\n                            </div>\r\n                            <div style={{\r\n                                color: prediction.predicted_listing_gain_percent >= 0 ? \"#27ae60\" : \"#e74c3c\",\r\n                                fontWeight: \"500\",\r\n                                fontSize: \"1.1rem\"\r\n                            }}>\r\n                                {prediction.predicted_listing_gain_percent}%\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}