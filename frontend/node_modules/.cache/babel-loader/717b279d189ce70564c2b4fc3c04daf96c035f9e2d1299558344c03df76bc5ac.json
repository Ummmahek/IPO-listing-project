{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{getSentiment,fetchIPOTrends}from\"../api\";import{Line}from\"react-chartjs-2\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Sentiment(_ref){let{selectedIPO}=_ref;const[sentiment,setSentiment]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const handleFetch=async()=>{setError(\"\");setSentiment(null);setLoading(true);try{const res=await getSentiment(selectedIPO.IPO_Name);setSentiment(res);}catch(e){setError(\"Sentiment analysis failed.\");}setLoading(false);};if(!selectedIPO)return null;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"NLP: Social Media Sentiment\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleFetch,disabled:loading,children:loading?\"Fetching...\":\"Fetch Sentiment\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\",marginTop:8},children:error}),sentiment&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8},children:[/*#__PURE__*/_jsx(\"b\",{children:\"Avg Sentiment (VADER):\"}),\" \",sentiment.avg_sentiment.toFixed(2),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8},children:[/*#__PURE__*/_jsx(\"b\",{children:\"Sample Tweets:\"}),/*#__PURE__*/_jsx(\"ul\",{children:sentiment.sample_tweets.map((t,i)=>/*#__PURE__*/_jsx(\"li\",{children:t},i))})]})]})]});}export function Graphs(){const[trends,setTrends]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchData=async()=>{try{const data=await fetchIPOTrends();setTrends(data);}catch(err){setError(\"Failed to load IPO trends\");}finally{setLoading(false);}};fetchData();},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading trends...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\"},children:error});if(!trends)return null;const chartData={labels:trends.labels,datasets:trends.datasets};const options={responsive:true,plugins:{legend:{position:'top'},title:{display:true,text:'IPO Trends Analysis'}},scales:{y:{beginAtZero:true}}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"IPO Market Trends\"}),/*#__PURE__*/_jsx(\"div\",{style:{height:\"400px\"},children:/*#__PURE__*/_jsx(Line,{data:chartData,options:options})})]});}","map":{"version":3,"names":["React","useState","useEffect","getSentiment","fetchIPOTrends","Line","jsx","_jsx","jsxs","_jsxs","Sentiment","_ref","selectedIPO","sentiment","setSentiment","loading","setLoading","error","setError","handleFetch","res","IPO_Name","e","style","marginBottom","children","onClick","disabled","color","marginTop","avg_sentiment","toFixed","sample_tweets","map","t","i","Graphs","trends","setTrends","fetchData","data","err","chartData","labels","datasets","options","responsive","plugins","legend","position","title","display","text","scales","y","beginAtZero","padding","height"],"sources":["C:/Users/Mahek/Desktop/ipo-listing-project/frontend/src/components/Graphs.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { getSentiment, fetchIPOTrends } from \"../api\";\r\nimport { Line } from \"react-chartjs-2\";\r\n\r\nexport default function Sentiment({ selectedIPO }) {\r\n    const [sentiment, setSentiment] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const handleFetch = async () => {\r\n        setError(\"\");\r\n        setSentiment(null);\r\n        setLoading(true);\r\n        try {\r\n            const res = await getSentiment(selectedIPO.IPO_Name);\r\n            setSentiment(res);\r\n        } catch (e) {\r\n            setError(\"Sentiment analysis failed.\");\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    if (!selectedIPO) return null;\r\n\r\n    return (\r\n        <div style={{ marginBottom: 16 }}>\r\n            <h3>NLP: Social Media Sentiment</h3>\r\n            <button onClick={handleFetch} disabled={loading}>\r\n                {loading ? \"Fetching...\" : \"Fetch Sentiment\"}\r\n            </button>\r\n            {error && <div style={{ color: \"red\", marginTop: 8 }}>{error}</div>}\r\n            {sentiment && (\r\n                <div style={{ marginTop: 8 }}>\r\n                    <b>Avg Sentiment (VADER):</b> {sentiment.avg_sentiment.toFixed(2)}\r\n                    <div style={{marginTop:8}}>\r\n                        <b>Sample Tweets:</b>\r\n                        <ul>{sentiment.sample_tweets.map((t,i) => <li key={i}>{t}</li>)}</ul>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function Graphs() {\r\n    const [trends, setTrends] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const data = await fetchIPOTrends();\r\n                setTrends(data);\r\n            } catch (err) {\r\n                setError(\"Failed to load IPO trends\");\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n    if (loading) return <div>Loading trends...</div>;\r\n    if (error) return <div style={{ color: \"red\" }}>{error}</div>;\r\n    if (!trends) return null;\r\n\r\n    const chartData = {\r\n        labels: trends.labels,\r\n        datasets: trends.datasets\r\n    };\r\n\r\n    const options = {\r\n        responsive: true,\r\n        plugins: {\r\n            legend: {\r\n                position: 'top',\r\n            },\r\n            title: {\r\n                display: true,\r\n                text: 'IPO Trends Analysis'\r\n            }\r\n        },\r\n        scales: {\r\n            y: {\r\n                beginAtZero: true\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ padding: \"20px\" }}>\r\n            <h3>IPO Market Trends</h3>\r\n            <div style={{ height: \"400px\" }}>\r\n                <Line data={chartData} options={options} />\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}