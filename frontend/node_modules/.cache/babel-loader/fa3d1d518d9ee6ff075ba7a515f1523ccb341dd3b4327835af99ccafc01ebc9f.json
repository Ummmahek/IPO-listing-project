{"ast":null,"code":"import React,{useState}from\"react\";import{calcProfitLoss}from\"../api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProfitLossCalc(_ref){let{selectedIPO}=_ref;const[quantity,setQuantity]=useState(\"\");const[sellPrice,setSellPrice]=useState(\"\");const[result,setResult]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const handleCalculate=async e=>{e.preventDefault();if(!selectedIPO||!quantity||!sellPrice)return;setLoading(true);setError(null);try{const data=await calcProfitLoss(selectedIPO.IPO_Name,quantity,sellPrice);setResult(data);}catch(err){console.error(\"Error calculating profit/loss:\",err);setError(\"Failed to calculate profit/loss. Please try again.\");}finally{setLoading(false);}};if(!selectedIPO)return null;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:\"#2c3e50\",marginBottom:\"20px\",fontSize:\"1.5rem\",fontFamily:\"'Poppins', sans-serif\"},children:\"Profit/Loss Calculator\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCalculate,style:{marginBottom:\"20px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"15px\"},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:\"block\",marginBottom:\"5px\",color:\"#666\"},children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:quantity,onChange:e=>setQuantity(e.target.value),placeholder:\"Enter quantity\",style:{width:\"100%\",padding:\"10px\",borderRadius:\"5px\",border:\"1px solid #ddd\",fontSize:\"1rem\"}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"15px\"},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:\"block\",marginBottom:\"5px\",color:\"#666\"},children:\"Sell Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:sellPrice,onChange:e=>setSellPrice(e.target.value),placeholder:\"Enter sell price\",style:{width:\"100%\",padding:\"10px\",borderRadius:\"5px\",border:\"1px solid #ddd\",fontSize:\"1rem\"}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{width:\"100%\",padding:\"12px\",backgroundColor:loading?\"#95a5a6\":\"#3498db\",color:\"white\",border:\"none\",borderRadius:\"5px\",fontSize:\"1rem\",cursor:loading?\"not-allowed\":\"pointer\",transition:\"background-color 0.2s\"},onMouseOver:e=>!loading&&(e.target.style.backgroundColor=\"#2980b9\"),onMouseOut:e=>!loading&&(e.target.style.backgroundColor=\"#3498db\"),children:loading?\"Calculating...\":\"Calculate\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{padding:\"15px\",backgroundColor:\"#fde8e8\",color:\"#e74c3c\",borderRadius:\"5px\",marginBottom:\"15px\"},children:error}),!loading&&!error&&result&&/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"#f8f9fa\",padding:\"20px\",borderRadius:\"8px\"},children:/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gridTemplateColumns:\"repeat(auto-fit, minmax(200px, 1fr))\",gap:\"15px\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"white\",padding:\"15px\",borderRadius:\"8px\",boxShadow:\"0 2px 4px rgba(0,0,0,0.05)\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:\"#666\",fontSize:\"0.9rem\",marginBottom:\"5px\"},children:\"Profit/Loss\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:result.profit_loss>=0?\"#27ae60\":\"#e74c3c\",fontWeight:\"500\",fontSize:\"1.1rem\"},children:[\"\\u20B9\",result.profit_loss.toFixed(2)]})]})})})]});}","map":{"version":3,"names":["React","useState","calcProfitLoss","jsx","_jsx","jsxs","_jsxs","ProfitLossCalc","_ref","selectedIPO","quantity","setQuantity","sellPrice","setSellPrice","result","setResult","loading","setLoading","error","setError","handleCalculate","e","preventDefault","data","IPO_Name","err","console","children","style","color","marginBottom","fontSize","fontFamily","onSubmit","display","type","value","onChange","target","placeholder","width","padding","borderRadius","border","disabled","backgroundColor","cursor","transition","onMouseOver","onMouseOut","gridTemplateColumns","gap","boxShadow","profit_loss","fontWeight","toFixed"],"sources":["C:/Users/Mahek/Desktop/ipo-listing-project/frontend/src/components/ProfitLossCalc.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { calcProfitLoss } from \"../api\";\r\n\r\nexport default function ProfitLossCalc({ selectedIPO }) {\r\n    const [quantity, setQuantity] = useState(\"\");\r\n    const [sellPrice, setSellPrice] = useState(\"\");\r\n    const [result, setResult] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const handleCalculate = async (e) => {\r\n        e.preventDefault();\r\n        if (!selectedIPO || !quantity || !sellPrice) return;\r\n\r\n        setLoading(true);\r\n        setError(null);\r\n        try {\r\n            const data = await calcProfitLoss(selectedIPO.IPO_Name, quantity, sellPrice);\r\n            setResult(data);\r\n        } catch (err) {\r\n            console.error(\"Error calculating profit/loss:\", err);\r\n            setError(\"Failed to calculate profit/loss. Please try again.\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (!selectedIPO) return null;\r\n\r\n    return (\r\n        <div>\r\n            <h3 style={{\r\n                color: \"#2c3e50\",\r\n                marginBottom: \"20px\",\r\n                fontSize: \"1.5rem\",\r\n                fontFamily: \"'Poppins', sans-serif\"\r\n            }}>\r\n                Profit/Loss Calculator\r\n            </h3>\r\n\r\n            <form onSubmit={handleCalculate} style={{ marginBottom: \"20px\" }}>\r\n                <div style={{ marginBottom: \"15px\" }}>\r\n                    <label style={{\r\n                        display: \"block\",\r\n                        marginBottom: \"5px\",\r\n                        color: \"#666\"\r\n                    }}>\r\n                        Quantity\r\n                    </label>\r\n                    <input\r\n                        type=\"number\"\r\n                        value={quantity}\r\n                        onChange={(e) => setQuantity(e.target.value)}\r\n                        placeholder=\"Enter quantity\"\r\n                        style={{\r\n                            width: \"100%\",\r\n                            padding: \"10px\",\r\n                            borderRadius: \"5px\",\r\n                            border: \"1px solid #ddd\",\r\n                            fontSize: \"1rem\"\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <div style={{ marginBottom: \"15px\" }}>\r\n                    <label style={{\r\n                        display: \"block\",\r\n                        marginBottom: \"5px\",\r\n                        color: \"#666\"\r\n                    }}>\r\n                        Sell Price\r\n                    </label>\r\n                    <input\r\n                        type=\"number\"\r\n                        value={sellPrice}\r\n                        onChange={(e) => setSellPrice(e.target.value)}\r\n                        placeholder=\"Enter sell price\"\r\n                        style={{\r\n                            width: \"100%\",\r\n                            padding: \"10px\",\r\n                            borderRadius: \"5px\",\r\n                            border: \"1px solid #ddd\",\r\n                            fontSize: \"1rem\"\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={loading}\r\n                    style={{\r\n                        width: \"100%\",\r\n                        padding: \"12px\",\r\n                        backgroundColor: loading ? \"#95a5a6\" : \"#3498db\",\r\n                        color: \"white\",\r\n                        border: \"none\",\r\n                        borderRadius: \"5px\",\r\n                        fontSize: \"1rem\",\r\n                        cursor: loading ? \"not-allowed\" : \"pointer\",\r\n                        transition: \"background-color 0.2s\"\r\n                    }}\r\n                    onMouseOver={(e) => !loading && (e.target.style.backgroundColor = \"#2980b9\")}\r\n                    onMouseOut={(e) => !loading && (e.target.style.backgroundColor = \"#3498db\")}\r\n                >\r\n                    {loading ? \"Calculating...\" : \"Calculate\"}\r\n                </button>\r\n            </form>\r\n\r\n            {error && (\r\n                <div style={{\r\n                    padding: \"15px\",\r\n                    backgroundColor: \"#fde8e8\",\r\n                    color: \"#e74c3c\",\r\n                    borderRadius: \"5px\",\r\n                    marginBottom: \"15px\"\r\n                }}>\r\n                    {error}\r\n                </div>\r\n            )}\r\n\r\n            {!loading && !error && result && (\r\n                <div style={{\r\n                    backgroundColor: \"#f8f9fa\",\r\n                    padding: \"20px\",\r\n                    borderRadius: \"8px\"\r\n                }}>\r\n                    <div style={{\r\n                        display: \"grid\",\r\n                        gridTemplateColumns: \"repeat(auto-fit, minmax(200px, 1fr))\",\r\n                        gap: \"15px\"\r\n                    }}>\r\n                        <div style={{\r\n                            backgroundColor: \"white\",\r\n                            padding: \"15px\",\r\n                            borderRadius: \"8px\",\r\n                            boxShadow: \"0 2px 4px rgba(0,0,0,0.05)\"\r\n                        }}>\r\n                            <div style={{ color: \"#666\", fontSize: \"0.9rem\", marginBottom: \"5px\" }}>\r\n                                Profit/Loss\r\n                            </div>\r\n                            <div style={{\r\n                                color: result.profit_loss >= 0 ? \"#27ae60\" : \"#e74c3c\",\r\n                                fontWeight: \"500\",\r\n                                fontSize: \"1.1rem\"\r\n                            }}>\r\n                                â‚¹{result.profit_loss.toFixed(2)}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}