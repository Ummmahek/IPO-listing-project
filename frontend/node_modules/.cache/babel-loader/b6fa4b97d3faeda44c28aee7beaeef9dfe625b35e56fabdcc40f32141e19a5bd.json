{"ast":null,"code":"import axios from\"axios\";const API_URL=\"http://localhost:5000/api\";// Set auth token in headers\nexport const setAuthToken=token=>{if(token){axios.defaults.headers.common[\"Authorization\"]=\"Bearer \".concat(token);}else{delete axios.defaults.headers.common[\"Authorization\"];}};// Auth endpoints\nexport const login=async(username,password)=>{const response=await axios.post(\"\".concat(API_URL,\"/login\"),{username,password});return response.data;};export const signup=async(username,password)=>{const response=await axios.post(\"\".concat(API_URL,\"/signup\"),{username,password});return response.data;};export const fetchMe=async()=>{const response=await axios.get(\"\".concat(API_URL,\"/me\"));return response.data;};// IPO endpoints\nexport const fetchIPOs=async()=>{try{const response=await axios.get(\"\".concat(API_URL,\"/ipos\"));const data=response.data;// Now data is an array of IPOs\nif(!Array.isArray(data)){console.error(\"Invalid IPOs data:\",data);return[];}return data;}catch(error){console.error('Error fetching IPOs:',error);return[];}};export const fetchIPOSentiment=async ipoName=>{const response=await axios.post(\"\".concat(API_URL,\"/ipo_sentiment\"),{ipo_name:ipoName});return response.data;};export const fetchMLPrediction=async ipoData=>{const response=await axios.post(\"\".concat(API_URL,\"/ml_predict\"),ipoData);return response.data;};// ---- IPO DATA ----\nexport async function fetchIPOByName(name){const res=await axios.get(\"\".concat(API_URL,\"/ipo/\").concat(encodeURIComponent(name)));return res.data;}// ---- PROFIT/LOSS ----\nexport async function calcProfitLoss(ipo_name,qty,sell_price){const res=await axios.post(\"\".concat(API_URL,\"/profitloss\"),{ipo_name,qty,sell_price});return res.data;}// ---- TRENDS ----\nexport async function fetchIPOTrends(){const res=await axios.get(\"\".concat(API_URL,\"/ipo_trends\"));return res.data;}","map":{"version":3,"names":["axios","API_URL","setAuthToken","token","defaults","headers","common","concat","login","username","password","response","post","data","signup","fetchMe","get","fetchIPOs","Array","isArray","console","error","fetchIPOSentiment","ipoName","ipo_name","fetchMLPrediction","ipoData","fetchIPOByName","name","res","encodeURIComponent","calcProfitLoss","qty","sell_price","fetchIPOTrends"],"sources":["C:/Users/Mahek/Desktop/ipo-listing-project/frontend/src/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:5000/api\";\r\n\r\n// Set auth token in headers\r\nexport const setAuthToken = (token) => {\r\n  if (token) {\r\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n  } else {\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n  }\r\n};\r\n\r\n// Auth endpoints\r\nexport const login = async (username, password) => {\r\n  const response = await axios.post(`${API_URL}/login`, { username, password });\r\n  return response.data;\r\n};\r\n\r\nexport const signup = async (username, password) => {\r\n  const response = await axios.post(`${API_URL}/signup`, { username, password });\r\n  return response.data;\r\n};\r\n\r\nexport const fetchMe = async () => {\r\n  const response = await axios.get(`${API_URL}/me`);\r\n  return response.data;\r\n};\r\n\r\n// IPO endpoints\r\nexport const fetchIPOs = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/ipos`);\r\n    const data = response.data;\r\n    // Now data is an array of IPOs\r\n    if (!Array.isArray(data)) {\r\n      console.error(\"Invalid IPOs data:\", data);\r\n      return [];\r\n    }\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Error fetching IPOs:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const fetchIPOSentiment = async (ipoName) => {\r\n  const response = await axios.post(`${API_URL}/ipo_sentiment`, { ipo_name: ipoName });\r\n  return response.data;\r\n};\r\n\r\nexport const fetchMLPrediction = async (ipoData) => {\r\n  const response = await axios.post(`${API_URL}/ml_predict`, ipoData);\r\n  return response.data;\r\n};\r\n\r\n// ---- IPO DATA ----\r\nexport async function fetchIPOByName(name) {\r\n  const res = await axios.get(`${API_URL}/ipo/${encodeURIComponent(name)}`);\r\n  return res.data;\r\n}\r\n\r\n// ---- PROFIT/LOSS ----\r\nexport async function calcProfitLoss(ipo_name, qty, sell_price) {\r\n  const res = await axios.post(`${API_URL}/profitloss`, {\r\n    ipo_name,\r\n    qty,\r\n    sell_price,\r\n  });\r\n  return res.data;\r\n}\r\n\r\n// ---- TRENDS ----\r\nexport async function fetchIPOTrends() {\r\n  const res = await axios.get(`${API_URL}/ipo_trends`);\r\n  return res.data;\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,OAAO,CAAG,2BAA2B,CAE3C;AACA,MAAO,MAAM,CAAAC,YAAY,CAAIC,KAAK,EAAK,CACrC,GAAIA,KAAK,CAAE,CACTH,KAAK,CAACI,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,WAAAC,MAAA,CAAaJ,KAAK,CAAE,CACpE,CAAC,IAAM,CACL,MAAO,CAAAH,KAAK,CAACI,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,CACvD,CACF,CAAC,CAED;AACA,MAAO,MAAM,CAAAE,KAAK,CAAG,KAAAA,CAAOC,QAAQ,CAAEC,QAAQ,GAAK,CACjD,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAX,KAAK,CAACY,IAAI,IAAAL,MAAA,CAAIN,OAAO,WAAU,CAAEQ,QAAQ,CAAEC,QAAS,CAAC,CAAC,CAC7E,MAAO,CAAAC,QAAQ,CAACE,IAAI,CACtB,CAAC,CAED,MAAO,MAAM,CAAAC,MAAM,CAAG,KAAAA,CAAOL,QAAQ,CAAEC,QAAQ,GAAK,CAClD,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAX,KAAK,CAACY,IAAI,IAAAL,MAAA,CAAIN,OAAO,YAAW,CAAEQ,QAAQ,CAAEC,QAAS,CAAC,CAAC,CAC9E,MAAO,CAAAC,QAAQ,CAACE,IAAI,CACtB,CAAC,CAED,MAAO,MAAM,CAAAE,OAAO,CAAG,KAAAA,CAAA,GAAY,CACjC,KAAM,CAAAJ,QAAQ,CAAG,KAAM,CAAAX,KAAK,CAACgB,GAAG,IAAAT,MAAA,CAAIN,OAAO,OAAK,CAAC,CACjD,MAAO,CAAAU,QAAQ,CAACE,IAAI,CACtB,CAAC,CAED;AACA,MAAO,MAAM,CAAAI,SAAS,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAN,QAAQ,CAAG,KAAM,CAAAX,KAAK,CAACgB,GAAG,IAAAT,MAAA,CAAIN,OAAO,SAAO,CAAC,CACnD,KAAM,CAAAY,IAAI,CAAGF,QAAQ,CAACE,IAAI,CAC1B;AACA,GAAI,CAACK,KAAK,CAACC,OAAO,CAACN,IAAI,CAAC,CAAE,CACxBO,OAAO,CAACC,KAAK,CAAC,oBAAoB,CAAER,IAAI,CAAC,CACzC,MAAO,EAAE,CACX,CACA,MAAO,CAAAA,IAAI,CACb,CAAE,MAAOQ,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5C,MAAO,EAAE,CACX,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,iBAAiB,CAAG,KAAO,CAAAC,OAAO,EAAK,CAClD,KAAM,CAAAZ,QAAQ,CAAG,KAAM,CAAAX,KAAK,CAACY,IAAI,IAAAL,MAAA,CAAIN,OAAO,mBAAkB,CAAEuB,QAAQ,CAAED,OAAQ,CAAC,CAAC,CACpF,MAAO,CAAAZ,QAAQ,CAACE,IAAI,CACtB,CAAC,CAED,MAAO,MAAM,CAAAY,iBAAiB,CAAG,KAAO,CAAAC,OAAO,EAAK,CAClD,KAAM,CAAAf,QAAQ,CAAG,KAAM,CAAAX,KAAK,CAACY,IAAI,IAAAL,MAAA,CAAIN,OAAO,gBAAeyB,OAAO,CAAC,CACnE,MAAO,CAAAf,QAAQ,CAACE,IAAI,CACtB,CAAC,CAED;AACA,MAAO,eAAe,CAAAc,cAAcA,CAACC,IAAI,CAAE,CACzC,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAA7B,KAAK,CAACgB,GAAG,IAAAT,MAAA,CAAIN,OAAO,UAAAM,MAAA,CAAQuB,kBAAkB,CAACF,IAAI,CAAC,CAAE,CAAC,CACzE,MAAO,CAAAC,GAAG,CAAChB,IAAI,CACjB,CAEA;AACA,MAAO,eAAe,CAAAkB,cAAcA,CAACP,QAAQ,CAAEQ,GAAG,CAAEC,UAAU,CAAE,CAC9D,KAAM,CAAAJ,GAAG,CAAG,KAAM,CAAA7B,KAAK,CAACY,IAAI,IAAAL,MAAA,CAAIN,OAAO,gBAAe,CACpDuB,QAAQ,CACRQ,GAAG,CACHC,UACF,CAAC,CAAC,CACF,MAAO,CAAAJ,GAAG,CAAChB,IAAI,CACjB,CAEA;AACA,MAAO,eAAe,CAAAqB,cAAcA,CAAA,CAAG,CACrC,KAAM,CAAAL,GAAG,CAAG,KAAM,CAAA7B,KAAK,CAACgB,GAAG,IAAAT,MAAA,CAAIN,OAAO,eAAa,CAAC,CACpD,MAAO,CAAA4B,GAAG,CAAChB,IAAI,CACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}