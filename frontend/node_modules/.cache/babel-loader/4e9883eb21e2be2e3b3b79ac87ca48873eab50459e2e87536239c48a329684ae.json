{"ast":null,"code":"import React,{useState}from\"react\";import{calcProfitLoss}from\"../api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProfitLossCalc(_ref){let{selectedIPO}=_ref;const[qty,setQty]=useState(\"\");const[sellPrice,setSellPrice]=useState(\"\");const[result,setResult]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(\"\");const handleCalc=async()=>{setError(\"\");setResult(null);if(!qty||!sellPrice){setError(\"Please enter both quantity and sell price.\");return;}setLoading(true);try{const res=await calcProfitLoss(selectedIPO.IPO_Name,qty,sellPrice);setResult(res.profit_loss);}catch(e){setError(\"Calculation failed.\");}setLoading(false);};if(!selectedIPO)return null;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Profit/Loss Calculator\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Quantity:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:qty,onChange:e=>setQty(e.target.value),style:{margin:\"0 8px\"}})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Sell Price:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",value:sellPrice,onChange:e=>setSellPrice(e.target.value),style:{margin:\"0 8px\"}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCalc,disabled:loading,children:loading?\"Calculating...\":\"Calculate\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\",marginTop:8},children:error}),result!==null&&/*#__PURE__*/_jsx(\"div\",{style:{color:result>=0?\"green\":\"red\",marginTop:8},children:result>=0?\"Profit: \\u20B9\".concat(result):\"Loss: \\u20B9\".concat(Math.abs(result))})]});}","map":{"version":3,"names":["React","useState","calcProfitLoss","jsx","_jsx","jsxs","_jsxs","ProfitLossCalc","_ref","selectedIPO","qty","setQty","sellPrice","setSellPrice","result","setResult","loading","setLoading","error","setError","handleCalc","res","IPO_Name","profit_loss","e","style","marginBottom","children","type","min","value","onChange","target","margin","onClick","disabled","color","marginTop","concat","Math","abs"],"sources":["C:/Users/Mahek/Desktop/ipo-listing-project/frontend/src/components/ProfitLossCalc.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { calcProfitLoss } from \"../api\";\r\n\r\nexport default function ProfitLossCalc({ selectedIPO }) {\r\n    const [qty, setQty] = useState(\"\");\r\n    const [sellPrice, setSellPrice] = useState(\"\");\r\n    const [result, setResult] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const handleCalc = async () => {\r\n        setError(\"\");\r\n        setResult(null);\r\n        if (!qty || !sellPrice) {\r\n            setError(\"Please enter both quantity and sell price.\");\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        try {\r\n            const res = await calcProfitLoss(selectedIPO.IPO_Name, qty, sellPrice);\r\n            setResult(res.profit_loss);\r\n        } catch (e) {\r\n            setError(\"Calculation failed.\");\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    if (!selectedIPO) return null;\r\n\r\n    return (\r\n        <div style={{ marginBottom: 16 }}>\r\n            <h3>Profit/Loss Calculator</h3>\r\n            <label>\r\n                Quantity:\r\n                <input\r\n                    type=\"number\"\r\n                    min=\"1\"\r\n                    value={qty}\r\n                    onChange={e => setQty(e.target.value)}\r\n                    style={{ margin: \"0 8px\" }}\r\n                />\r\n            </label>\r\n            <label>\r\n                Sell Price:\r\n                <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    value={sellPrice}\r\n                    onChange={e => setSellPrice(e.target.value)}\r\n                    style={{ margin: \"0 8px\" }}\r\n                />\r\n            </label>\r\n            <button onClick={handleCalc} disabled={loading}>\r\n                {loading ? \"Calculating...\" : \"Calculate\"}\r\n            </button>\r\n            {error && <div style={{ color: \"red\", marginTop: 8 }}>{error}</div>}\r\n            {result !== null && (\r\n                <div style={{ color: result >= 0 ? \"green\" : \"red\", marginTop: 8 }}>\r\n                    {result >= 0 ? `Profit: ₹${result}` : `Loss: ₹${Math.abs(result)}`}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}