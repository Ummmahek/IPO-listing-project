{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://localhost:5000/api\";\n\n// Set auth token in headers\nexport const setAuthToken = token => {\n  if (token) {\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  } else {\n    delete axios.defaults.headers.common[\"Authorization\"];\n  }\n};\n\n// Auth endpoints\nexport const login = async (username, password) => {\n  const response = await axios.post(`${API_URL}/login`, {\n    username,\n    password\n  });\n  return response.data;\n};\nexport const signup = async (username, password) => {\n  const response = await axios.post(`${API_URL}/signup`, {\n    username,\n    password\n  });\n  return response.data;\n};\nexport const fetchMe = async () => {\n  const response = await axios.get(`${API_URL}/me`);\n  return response.data;\n};\n\n// IPO endpoints\nexport const fetchIPOs = async () => {\n  try {\n    const response = await axios.get(`${API_URL}/ipos`);\n    const data = response.data;\n    // Now data is an array of IPOs\n    if (!Array.isArray(data)) {\n      console.error(\"Invalid IPOs data:\", data);\n      return [];\n    }\n    return data;\n  } catch (error) {\n    console.error('Error fetching IPOs:', error);\n    return [];\n  }\n};\nexport const fetchIPOSentiment = async ipoName => {\n  const response = await axios.post(`${API_URL}/ipo_sentiment`, {\n    ipo_name: ipoName\n  });\n  return response.data;\n};\nexport const fetchMLPrediction = async ipoData => {\n  const response = await axios.post(`${API_URL}/ml_predict`, ipoData);\n  return response.data;\n};\n\n// ---- IPO DATA ----\nexport async function fetchIPOByName(name) {\n  const res = await axios.get(`${API_URL}/ipo/${encodeURIComponent(name)}`);\n  return res.data;\n}\n\n// ---- PROFIT/LOSS ----\nexport async function calcProfitLoss(ipo_name, qty, sell_price) {\n  const res = await axios.post(`${API_URL}/profitloss`, {\n    ipo_name,\n    qty,\n    sell_price\n  });\n  return res.data;\n}\n\n// ---- TRENDS ----\nexport async function fetchIPOTrends() {\n  const res = await axios.get(`${API_URL}/ipo_trends`);\n  return res.data;\n}","map":{"version":3,"names":["axios","API_URL","setAuthToken","token","defaults","headers","common","login","username","password","response","post","data","signup","fetchMe","get","fetchIPOs","Array","isArray","console","error","fetchIPOSentiment","ipoName","ipo_name","fetchMLPrediction","ipoData","fetchIPOByName","name","res","encodeURIComponent","calcProfitLoss","qty","sell_price","fetchIPOTrends"],"sources":["C:/Users/Mahek/Desktop/ipo-listing-project/frontend/src/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:5000/api\";\r\n\r\n// Set auth token in headers\r\nexport const setAuthToken = (token) => {\r\n  if (token) {\r\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n  } else {\r\n    delete axios.defaults.headers.common[\"Authorization\"];\r\n  }\r\n};\r\n\r\n// Auth endpoints\r\nexport const login = async (username, password) => {\r\n  const response = await axios.post(`${API_URL}/login`, { username, password });\r\n  return response.data;\r\n};\r\n\r\nexport const signup = async (username, password) => {\r\n  const response = await axios.post(`${API_URL}/signup`, { username, password });\r\n  return response.data;\r\n};\r\n\r\nexport const fetchMe = async () => {\r\n  const response = await axios.get(`${API_URL}/me`);\r\n  return response.data;\r\n};\r\n\r\n// IPO endpoints\r\nexport const fetchIPOs = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/ipos`);\r\n    const data = response.data;\r\n    // Now data is an array of IPOs\r\n    if (!Array.isArray(data)) {\r\n      console.error(\"Invalid IPOs data:\", data);\r\n      return [];\r\n    }\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Error fetching IPOs:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const fetchIPOSentiment = async (ipoName) => {\r\n  const response = await axios.post(`${API_URL}/ipo_sentiment`, { ipo_name: ipoName });\r\n  return response.data;\r\n};\r\n\r\nexport const fetchMLPrediction = async (ipoData) => {\r\n  const response = await axios.post(`${API_URL}/ml_predict`, ipoData);\r\n  return response.data;\r\n};\r\n\r\n// ---- IPO DATA ----\r\nexport async function fetchIPOByName(name) {\r\n  const res = await axios.get(`${API_URL}/ipo/${encodeURIComponent(name)}`);\r\n  return res.data;\r\n}\r\n\r\n// ---- PROFIT/LOSS ----\r\nexport async function calcProfitLoss(ipo_name, qty, sell_price) {\r\n  const res = await axios.post(`${API_URL}/profitloss`, {\r\n    ipo_name,\r\n    qty,\r\n    sell_price,\r\n  });\r\n  return res.data;\r\n}\r\n\r\n// ---- TRENDS ----\r\nexport async function fetchIPOTrends() {\r\n  const res = await axios.get(`${API_URL}/ipo_trends`);\r\n  return res.data;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}